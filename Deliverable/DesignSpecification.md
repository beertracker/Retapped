# Retapped Design Specifications

**User Profile Design:**
| Req. ID | Design |
| :------ | :---------- |
| D.1.11 | The first step the user will take is creating an account on the `Retapped` website. They will do this by selecting the “Create Account” option at the bottom of the sign-in screen. Next, the user will be taken to a menu that will be used to create their account. Here they will enter their desired username and password. When the user finishes, they will be returned to the sign-in screen to enter their new username and password. The full process is described in **Figure 1** below. ![Account Creation Flowchart](https://github.com/beertracker/Retapped/blob/Deliverables/Deliverable/RetappedUserAccount%20Flowchart.png) <p>**Figure 1**: _Account Creation Process_|
| D.1.11.e | The program will check if the user already has an account in the database. If the user does have an account, they will be taken to the Retapped website after inputting their username and password correctly. If the user does not have an account, they will receive an error message stating that their username or password does not exist. |
| D.1.12 | Each user must have a unique username by creating it with characters `[a-z], [0-9]`, and special characters `(@, !, etc)`. The user will not be able to create them with invalid characters such as `[]` and `\`. Once the username is created, it will be stored in the website’s database. |
| D.1.12.e | When the user submits or types their username, the website will scan the usernames in its database. If the website finds an exact match for the inputted username, it will return an error message stating that is in use by another user. The user will not be able to proceed until they enter a truly unique password. |
| D.1.2 | The user will create their friends list by selecting an icon on the website that allows them to search for the account of the person they want to add via username. When they find that person, they can send a friend request by clicking on another icon. They can also click on the account icon or username of the other user to send a friend request. The website will then store the usernames of any added friends into a separate database connected to the user’s account. |
| D.1.2.e | When the user looks up their friends, the website will scan the database containing their usernames and display them in a list. If the user wants to look for a single friend, they will type the friend’s username in a search box. |
| D.1.31 | When the user wants to log a beverage, they will select an icon that displays a menu to input data. The user will input information regarding the time and date of when they had the beverage. The data will then be stored in a database that can be accessed by the public. |
| D.1.31.e | The user can look up their log history by selecting an icon that will display a list of their logs. The website will do this by scanning all the logs associated with the user’s username and place them into the visible list. |
| D.1.32| When a user logs a beverage, they will be able to give it a rating. The rating will be on a scale from 1-10. 1 is the lowest rating (if the user disliked the beverage) and 10 is the highest rating (if the user liked the beverage). The user and the user's friends will be able to see the user's ratings. These ratings will contribute to the calculation of the user's flavor profile. |
| D.1.32.e| A user will be mocked for the testing. The user will log beverages, each with a different rating on the scale. The user's account will be inspected from the user's perspective as well as other accounts that are friends with the user to verify that the ratings of the logged beverages are visible and correct. |
| D.1.4| When a user drinks a beverage that is in the Retapped database, they will be able to "log" the beverage in the app. The log will be added to their history so that the user and the user's friends will be able to see what beverage they drank, the date that they drank the beverage, and what their rating of that beverage was. |
| D.1.4.e| A user will be mocked for the testing. The user will log several beverages from the Retapped database with ratings and on different days. The user's account will be inspected from the user's perspective as well as other accounts that are friends with the user to verify that the log data is accurate and visible. |
| D.1.5 | When a user creates an account, they will be able to add beverages from the database to a list of "preferences." This list of preferences will be visible to the user and the user's friends, and it will affect the user's calculated flavor profile. |
| D.1.5.e | A user will be mocked for the testing. The user will add several beverages to their preferences during account creation as well as after the account has been created. The user's preferences list will be inspected from the user's perspective as well as other accounts that are friends with the user to verify if the preferences list is accurate and visible. The preference list will also be used later in the testing for the flavor profile. |
| D.1.6 | A user will be able to add beverages to a list of their preferences. They will also be able to log beverages that they have had to drink since creating the account and give it a rating on a scale from 1-10. These two actions by the user will be used to calculate a "flavor profile" that will display the types and flavors of beverages that the user enjoys. The flavor profile can also be used to suggest to the user what kind of beverages they should try in the future. If the user adds a beverage to their preferences or rates a logged beverage as a 7 or above, the flavor profile will suggest beverages that are similar to those. If the user rates a logged beverage as a 4 or below, the flavor profile will avoid suggesting beverages similar to the logged one. This process is shown in **Figure 2** below. ![Flavor Profile Process](https://github.com/beertracker/Retapped/blob/Deliverables/Deliverable/Retapped%20Flavor%20Profile%20Flowchart%20(D.1.6).png) <p>**Figure 2**: _Flavor Profile Update Process_|
| D.1.6.e | A user will be mocked for the testing. Each beverage type will be set to a neutral rating for the user when the account is created. The software will be evaluated to verify if the flavor profile rating for multiple types of beverages is set to the neutral rating. The user will add several beverages to their preferences list and then log several similar beverages and give them a rating of 7 or above. The software will be evaluated to verify if the flavor profile rating for the specific beverage type that was added to the preferences list and logged with a high rating has been increased. The user will log several similar beverages and give them a rating of 4 or below. The software will be evaluated to verify if the flavor profile rating for the specific beverage type that was logged has been decreased. Visual inspection of the flavor profile's suggested beverages will also be used to verify that the suggestion feature of the application is accurate. |

**User Interface Design:**
| Req. ID | Design |
| :------ | :---------- |
| D.2.1 | Inside the user profile, there will be a recommended beers section. This will consist of a random selection of highly suggested beers using the algorithm explained in 1.6. The UI will include basic information about the beer at first glance, such as the ABV and name. Users will also be able to click on the beer and take it to that beer page and display more detailed information, such as a full flavor description and the brewing company. |
| D.2.1.e | Since React allows for hot reloads, we can see if the following works as intended via visual inspection at `localhost 3000`. If beers are not formatted correctly or their images do not link to the beers page, it will be known that the software is not working as intended. However, there will need to be a unit test that ensures that the beers are properly randomized and do not frequently favor the same suggestions to the user. |
| D.2.2 | When users rate a beverage, their ratings will be added to the average rating of a beer, located in the database for the beers. Whenever a user clicks on a beer's name or image, its average rating will be displayed on that beer's information page.  |
| D.2.2.e | There will be unit tests written to ensure that the average rating is being calculated correctly. Additionally, a user will be mocked to simulate a user rating a beer for the first time. After the mocked user has successfully rated a beer, it can be visually inspected to see whether or not the server updated the beer's average rating and if that rating is correct. |
| D.2.3 | The UI will allow a beverage in the listing to be selected, and then a button will be clicked to share with a different user. When the button is clicked, the user's friends will appear in a list for the user to select a friend to share the beverage with, and also a text field to add a comment to. When the user does this, the friend that the beverage was shared with will get a notification on their account that their friend shared a beverage with them. This notification will include the name of the beverage that can be clicked to view information about that beverage, along with the comment that the user shared with them. |
| D.2.3.e | Tester 1 will find a beverage in the beverage listing screen. Tester 1 will then click on the beverage, select tester 2's account, and add a comment to the text field. Tester 1 will then click the "Share" button. Tester 2 will inspect their account home page and visually confirm that a notification from tester 1 has appeared. Tester 2 will visually confirm that they can click on the beverage to view info about that beverage. Tester 2 will then confirm that the comment tester 1 input to the search box is shown below the beverage. |
| D.2.4| The Retapped UI will determine the User's location and then recommend breweries near the user. This will be done automatically using location services that the user first consents to, and then a map will show the user breweries that are near them. The name of the brewery will be displayed and the user can click on it to find out more information and get directions to the place they select. |
| D.2.4.e| Testing will be done by manually using the UI. The tester will consent to location services and then open the map. The tester will verify that there are breweries displayed near the tester's location. The tester will click on the brewery that is displayed to verify that appropriate directions to the brewery are given. |
| D.2.5 | The Retapped UI will include a page of beverages with a search bar at the top for the user to search for beverages by name, beverage type, and alcohol by volume. |
| D.2.5.e | The tester will visually verify that the search bar exists, and filters for beverage type and ABV are present. The tester will input the name of a beverage that they know exists in the database, and then view the beverage in the listing under the search bar. When the tester inputs the name of a beverage and filters by ABV and beverage type that do not match that beverage, then the UI should not list the beverage as a candidate for the search. |

**Frontend/Backend Compatability and Operations Design:**
| Req. ID | Design |
| :------ | :---------- |
| D.3.1 | The webserver will hold all the appropriate files for our webpage (index, css, html, js, java, etc. ). Using React, the data will be sent from the webserver to the Supabase database using their [documentation](https://supabase.com/docs/guides/getting-started/quickstarts/reactjs). |
| D.3.1.e | Visually verify the server is being properly hosted by going to http://localhost:8080 |
| D.3.21| Using the third-party database web service SupaBase, a User schema will be created with the following fields: userId, UserName, FirstName, LastName, Email, Password, LikedBeer, DislikedBeer, Friend, FavoritedLocation.
| D.3.21.e| A fake user profile will be constructed with all of the fields filled in with verifiable data. Once completed, the user profile page will be viewed to verify the proper information displayed on the web page. Also, any backend requests (logs) will be reviewed to ensure no errors occur between data requests. [SupaBase REST API](https://supabase.com/docs/guides/api/) |
| D.3.22| Using the third-party database web service SupaBase, a Beverage schema will be created with the following fields: Brand, ABV, and IBU. The Brand field will contain the name of the beer (i.e., Budweiser). The ABV field shall contain the % value of alcohol that a beer contains per ounce. IBUs measure the parts per million of isohumulone found in a beer, so the IBU will contain the bitterness scale between the values of 0(non-bitter)-120(bitterest).|
| D.3.22.e| The Beverage database will be queried on the backend to ensure that the proper information is stored in the database and retrieved by the webserver. Visual cross-verification between the backend results and the Supabase database should be performed. |
| D.3.23| Using the third-party database web service SupaBase, a FlavorProfile schema will be created with the following fields: userId, Bitterness, Sweetness, Spicy, Thickness, and Body. The field's Bitterness, Sweetness, and Spicy shall contain values between 1(lowest) - 10(highest). The field Thickness shall contain the following value choices: light, medium, and heavy. The field Body shall contain the following value choices: creamy, smooth, and dense. |
| D.3.23.e| A mock FlavorProfile will be created and queried on the backend to ensure the proper information is stored in the database and retrieved by the web server. Visual cross-verification between the backend results and the Supabase database should be performed. |
| D.3.3 | When attempting to use the location services of the Retapped Web Application, the user will be prompted to accept/enable location services. If enabled, the location services will display a map of the user's location using the Google Maps API. This map will show nearby alcoholic vendors within X miles radius (exclude grocery stores and restaurants)|
| D.3.3.e| Multiple users with different locations will be mocked, either through VPN, browser, or other third-party applications. Each user will be used to verify that the "Enable Location Services" button enables the user's location data to be transmitted between the web application backend and GMaps API. Each user’s location will be verified on the map to ensure it displays the proper location along with the appropriate "place pins" within the defined distance. [Faking geo-location in browsers](https://beebom.com/fake-geo-location-google-chrome-mozilla-firefox-microsoft-edge/)
|
